<!--

    Pagina per effettuare gli ordini

    Deve prevedere:

        Una sezione per ogni azienda in cui devono essere presenti:

            Piccola immagine del logo dell'azienda

            Composizioni selezionabili (con relativo prezzo)

        Carrello a destra con:
            Elenco riepilogativo (con prezzo finale)
            Tasto per confermare

        Un tasto per tornare indietro (deve ritornare alla pagina di account)

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EnjoyFood</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/stileMenu.css" type="text/css">
    <link rel="shortcurt icon" href="/images/LOGO_EF.png">

</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>


<div class="container-fluid">
    <div class="row">
        <div class="col bg-success p-3 text-white">
            <img src="/images/LOGO_EF.png" id="ImmLogo">
            <div class="text-box">
                <h1 class="ef"><span class="auto-input"></span></h1>
                <p>L'app per prenotare il tuo pranzo comodamente dai tuoi dispositivi</p>
            </div>
        </div>
    </div>
</div>


<nav class="navbar navbar-expand-lg bg-light navbar-dim">
    <div class="con container-fluid">
        <a class="Home nav-link active" aria-current="page" href="/">Home</a>
        <a class="Menu nav-link active" aria-current="page" href="/savedmenu">Menu</a>
        <a class="Componi nav-link active" aria-current="page" href="/compose">Ordina</a>

        <a class="profile btn" href="/account">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16" >
                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
            </svg>

        </a>
    </div>


</nav>


<% if(typeof sellers !== 'undefined') { %>

    <br>

    <% for(let i=0; i < sellers.length; i++) { %>

        <a href="<%= '/compose/seller/'+ encodeURIComponent(sellers.at(i)) %>" class="btn btn-danger" role="button"><%= sellers.at(i) %></a>
        <br>
        <br>

    <% } %>

    <br>

<% } %>

<% if(typeof primi !== 'undefined') { %>

    <form action="/pay" method="post">

        <h1>Menu di <%= primi.at(0).seller %></h1>

        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>Primi</b></li>
            <% for(let i=0; i < primi.length; i++) { %>

                <li class="list-group-item">
                    <input class="form-check-input" type="radio" name="primo" value="<%= primi.at(i)._id %>" id="<%= primi.at(i)._id %>" >
                    <label class="form-check-label" for="<%= primi.at(i)._id %>">
                        <%= primi.at(i).description + ' ' + primi.at(i).price + '€'%>
                    </label>
                </li>
            <% } %>
        </ul><br>

        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>Secondi</b></li>
            <% for(let i=0; i < secondi.length; i++) { %>

                <li class="list-group-item">
                    <input class="form-check-input" type="radio" name="secondo" value="<%= secondi.at(i)._id %>" id="<%= secondi.at(i)._id %>">
                    <label class="form-check-label" for="<%= secondi.at(i)._id %>">
                        <%= secondi.at(i).description + ' ' + secondi.at(i).price + '€'%>
                    </label>
                </li>
            <% } %>
        </ul><br>

        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>Contorni</b></li>
            <% for(let i=0; i < contorni.length; i++) { %>

                <li class="list-group-item">
                    <input class="form-check-input" type="radio" name="contorno" value="<%= contorni.at(i)._id %>" id="<%= contorni.at(i)._id %>">
                    <label class="form-check-label" for="<%= contorni.at(i)._id %>">
                        <%= contorni.at(i).description + ' ' + contorni.at(i).price + '€'%>
                    </label>
                </li>
            <% } %>
        </ul><br>

        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>Bibite</b></li>
            <% for(let i=0; i < bibite.length; i++) { %>

                <li class="list-group-item">
                    <input class="form-check-input" type="radio" name="bibita" value="<%= bibite.at(i)._id %>" id="<%= bibite.at(i)._id %>">
                    <label class="form-check-label" for="<%= bibite.at(i)._id %>">
                        <%= bibite.at(i).description + ' ' + bibite.at(i).price + '€'%>
                    </label>
                </li>
            <% } %>
        </ul><br>

        </ul>
        <div>
            <input type="submit" class=" b2 btn btn-primary btn-sm" type="submit" value="Paga con Paypal">
            <img class="pay" src="images/Paypal.jpg">
        </div>
    </form>

<% } %>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

<script>

    var typed = new Typed(".auto-input",{
        strings: ["ENJOYFOOD"],
        typeSpeed: 120,
        backSpeed: 120,
        loop: true

    })
</script>

</body>
</html>